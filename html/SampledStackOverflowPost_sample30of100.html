Answered posted on: 2011-09-26 05:04:04+00:00
<a<p>Classes are reference types by design. They're not supposed to be passed by value. It's exactly the same with Java and C#. However, unlike Java and C#, D has full-fledged user-defined value types as well, since it has structs (C# has structs too, but they're <em>much</em> more limited). The fact that C++ conflates the two causes problems such as ***<a href="http://en.wikipedia.org/wiki/Object_slicing" rel="noreferrer">object slicing</a>.</p>

<p>Now, obviously there <em>are</em> times when you want to copy a reference type. The solution to that is ***<a href="http://en.wikipedia.org/wiki/Cloning_%28programming%29" rel="noreferrer">cloning</a>. You give your class a <code>clone</code> function which returns a copy of the object it's called on. That way, you can copy it when you need to, and it only gets copied when you need it to be. Java and C# have a standard <code>clone</code> function that most types implement, but for whatever reason D does not. I'm not sure why. But it's still easy enough to declare such a function yourself for your own types. It just isn't going to be on <code>Object</code>, which would allow you to use it on pretty much any class object without caring what the actual type was like you can do in Java and C#. You could always create a copy constructor instead, if you prefer, but it's less flexible, because you have to know the type of the object being copied, whereas with <code>clone</code>, it can be any type derived from the type that <code>clone</code> returns (which would be <code>Object</code> in the case of Java and C# but would be whatever you decide in D, since the function is non-standard).</
