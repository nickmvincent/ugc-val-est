Answered posted on: 2016-09-26 13:08:16+00:00
<a<p>In your code</p>

<pre><code>   word[count-starts+1] = '\0';
</code></pre>

<p>is ***<a href="https://en.wikipedia.org/wiki/Off-by-one_error" rel="nofollow">off-by-one</a> and basically that out-of-bound access invokes ***<a href="https://en.wikipedia.org/wiki/Undefined_behavior" rel="nofollow">undefined behavior</a>. </p>

<p>You should change your code to</p>

<pre><code>   word[nb_char-1] = '\0';
</code></pre>

<p>because, you have allocated <code>nb_char</code> bytes and the last index would be <code>nb_char-1</code>.</p>

<p>That said, it's always required to check for the success of <code>malloc()</code> by checking the return against <code>NULL</code> before using the returned pointer.</
